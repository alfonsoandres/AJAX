<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>EjERCICIO AJAX PHP</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    
</head>
<script>
    document.addEventListener("DOMContentLoaded", function(){
        //Definir variables que referencien cada uno de los objetos del archivo html.
        let input = document.querySelector('input');
        let resultado = document.querySelector('#resultado');
    
        //Definir el oyente de evento necesario para que cada vez que se teclea un carácter en la caja de texto de entrada de datos se inicie el proceso necesario para solicitar al servidor “datos.php” la coincidencia o no con los datos disponibles en el servidor. 
        input.addEventListener('keyup', function(){
            let valorInput = input.value;
    
            //Aquí se realiza la petición al servidor para obtener los datos y mostrarlos en el elemento resultado. 
            fetch(`datos.php?q=${valorInput}`) 
                .then(response => response.text()) 
                .then(data => { 
                    resultado.innerHTML = data; 
                }); 
    
        });    
    });  
    </script>
<body>
    <div class="container">
        <header class="text-center">
            <h1>Ejercicio propuesto 3</h1>
            <hr/>
            <p class="lead">Autocompletado de un campo</p>
        </header>
        <div class="col-lg-6" style="margin-bottom:50px;">
            <form class="form">
                Buscar por nombre: <input type="text">
            </form>
            <br/>
            <br/>
            <b>Resultados</b>
            <br/>
            <br/>
            <span id="resultado"></span>
        </div> 
        <footer class="col-lg-12 text-center">
            EJERCICIO DE AUTOCOMPLETADO CON AJAX
        </footer>
    </div>
</body>
</html>